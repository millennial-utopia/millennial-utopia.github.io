@use 'sass:list';
@use 'sass:color';

// uses the Base16 color theme system: https://github.com/chriskempson/base16
// color scheme is Atelier Savanna by Bram de Haan: https://github.com/atelierbram/base16-atelier-schemes

$base16-atelier-savanna: (
  #171c19, #232a25, #526057, #5f6d64, #78877d, #87928a, #dfe7e2, #ecf4ee,
  #b16139, #9f713c, #a07e3b, #489963, #1c9aa0, #478c90, #55859b, #867469
);

$base16-tomorrow: (
  #ffffff, #e0e0e0, #d6d6d6, #8e908c, #969896, #4d4d4c, #282a2e, #1d1f21,
  #c82829, #f5871f, #eab700, #718c00, #3e999f, #4271ae, #8959a8, #a3685a
);

@mixin apply-base16-colors ($color-scheme) {

  $base16-bg:         list.nth($color-scheme, 1);
  $base16-bg-light:   list.nth($color-scheme, 2);
  $base16-highlight:  list.nth($color-scheme, 4);
  $base16-fg-dark:    list.nth($color-scheme, 5);
  $base16-fg:         list.nth($color-scheme, 6);

  $base16-border:     color.adjust($base16-highlight, $alpha: -0.2);

  $base16-accent1:    list.nth($color-scheme, 9);
  $base16-accent2:    list.nth($color-scheme, 10);
  $base16-accent3:    list.nth($color-scheme, 11);
  $base16-accent4:    list.nth($color-scheme, 12);
  $base16-accent5:    list.nth($color-scheme, 13);
  $base16-accent6:    list.nth($color-scheme, 14);
  $base16-accent7:    list.nth($color-scheme, 15);
  $base16-accent8:    list.nth($color-scheme, 16);

  background-color: $base16-bg;
  color: $base16-fg;

  .card {
    background-color: $base16-bg-light;
  }

  .tab-button {
    background-color: $base16-highlight;
  }

  .tab-button:hover {
    background-color: $base16-fg-dark;
  }

  .tab-button.active {
    background-color: $base16-bg-light;
  }

  .tab-content {
    background-color: $base16-bg-light;
  }

  a {
    &:link {
      color: $base16-accent6;
    }

    &:visited {
      color: $base16-accent7;
    }

    &.anchor {
      color: $base16-highlight;
    }
  }

  h1, h2, h3, h4, #header-path > a {
    color: $base16-fg-dark;
  }

  #page-toc {
    border-right-color: $base16-fg-dark;

    a {
      color: $base16-accent5;
    }
  }

  #lemontopia-timeline tbody {
    th, td {
      border-top: 1px solid $base16-fg-dark;
    }
  }

  .term-link, .term-card, #page-toc > ul {
    border-color: color.adjust($base16-highlight, $alpha: -0.2);
  }

  // below is adapted from the CSS generated by Skylighting for the Pygments style
  // (layout is styled in _code.scss)

  pre.numberSource code > span > a:first-child::before { color: #aaaaaa; }
  pre.numberSource { border-left-color: #aaaaaa; }

  code span {
    &.al { color: $base16-accent8;   } /* Alert */
    &.an { color: $base16-highlight; } /* Annotation */
    &.at { color: $base16-accent2;   } /* Attribute */
    &.bn { color: $base16-accent2;   } /* BaseN */
    // &.bu {                        } /* BuiltIn */
    &.cf { color: $base16-accent7;   } /* ControlFlow */
    &.ch { color: $base16-accent4;   } /* Char */
    &.cn { color: $base16-accent2;   } /* Constant */
    &.co { color: $base16-highlight; } /* Comment */
    &.cv { color: $base16-highlight; } /* CommentVar */
    &.do { color: $base16-highlight; } /* Documentation */
    &.dt { color: $base16-accent3;   } /* DataType */
    &.dv { color: $base16-accent2;   } /* DecVal */
    &.er { color: $base16-accent8;   } /* Error */
    // &.ex {                        } /* Extension */
    &.fl { color: $base16-accent2;   } /* Float */
    &.fu { color: $base16-accent6;   } /* Function */
    // &.im {                        } /* Import */
    &.in { color: $base16-highlight; } /* Information */
    &.kw { color: $base16-accent7;   } /* Keyword */
    &.op { color: $base16-fg;        } /* Operator */
    &.ot { color: $base16-accent7;   } /* Other */
    &.pp { color: $base16-accent5;   } /* Preprocessor */
    &.sc { color: $base16-accent4;   } /* SpecialChar */
    &.ss { color: $base16-accent5;   } /* SpecialString */
    &.st { color: $base16-accent4;   } /* String */
    &.va { color: $base16-accent1;   } /* Variable */
    &.vs { color: $base16-accent4;   } /* VerbatimString */
    &.wa { color: $base16-accent8;   } /* Warning */
  }
}
